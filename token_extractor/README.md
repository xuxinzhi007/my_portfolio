# Token提取器使用说明

## 功能概述

Token提取器是一个自动化工具，用于登录Anker Solix专业版网站并提取HTTP请求头信息（特别是认证token）。

## 使用方法

1. **启动应用**
   ```bash
   go run main.go
   # 或者运行编译后的可执行文件
   ./my_portfolio_app
   ```

2. **打开Token提取器Tab**
   - 在应用中点击"Token提取"标签页

3. **输入登录信息**
   - 账号：输入你的Anker Solix账号
   - 密码：输入你的密码

4. **开始提取**
   - 点击"开始提取"按钮
   - 等待浏览器自动登录（约10-30秒）
   - 查看提取结果

5. **使用提取的Token**
   - 关键Token会用⭐标记
   - 点击每个Token旁边的"复制"按钮复制单个值
   - 点击"复制所有关键Token"按钮一次性复制所有重要token

## 提取的关键信息

- **X-Auth-Token**: 主要认证令牌
- **X-Auth-Ts**: 认证时间戳
- **Gtoken**: 全局令牌
- **Authorization**: 授权头
- 其他HTTP请求头信息

## 系统要求

- Go 1.24+
- Chrome/Chromium浏览器（用于headless模式）
- 网络连接

## 注意事项

1. **安全性**
   - 密码不会被保存到任何文件
   - 历史记录中的token会被脱敏处理
   - 建议在使用后清空结果

2. **网络要求**
   - 需要能够访问 https://ankersolix-professional-ci.anker.com
   - 确保网络连接稳定

3. **超时设置**
   - 默认超时时间为90秒
   - 如果网络较慢，可能需要多次尝试

## 故障排除

### 问题：浏览器初始化失败
**解决方案**：确保系统已安装Chrome或Chromium浏览器

### 问题：登录失败
**解决方案**：
- 检查账号密码是否正确
- 确认网络连接正常
- 尝试手动登录网站验证账号状态

### 问题：未能捕获到请求头
**解决方案**：
- 等待更长时间后再次尝试
- 检查目标网站是否可访问
- 查看是否有网络代理或防火墙阻止

## 技术架构

- **UI层**: Fyne v2框架
- **浏览器自动化**: chromedp
- **数据存储**: JSON文件（可选）
- **并发处理**: Goroutine

## 文件说明

- `model.go`: 数据模型定义
- `extractor.go`: 浏览器自动化和token提取逻辑
- `storage.go`: 历史记录存储
- `ui.go`: 用户界面实现
